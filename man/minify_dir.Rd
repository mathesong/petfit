% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/debugging.R
\name{minify_dir}
\alias{minify_dir}
\title{Minify Directory for Debugging}
\usage{
minify_dir(dir, output_zip = NULL, size_threshold = 1)
}
\arguments{
\item{dir}{Character string. Path to the directory to minify (can be a BIDS
directory, derivatives directory, or any other directory).}

\item{output_zip}{Character string. Path for the output zip file. If NULL
(default), creates "{basename(dir)}_mini.zip" in the current working directory.}

\item{size_threshold}{Numeric. File size threshold in MB above which files
will be replaced with empty files. Default is 1 MB.}
}
\value{
Invisibly returns the path to the created zip file.
}
\description{
Creates a lightweight copy of a directory by replacing files larger than 1MB
with empty files, then zips the result. Useful for creating shareable directory
structures for debugging without large data files.
}
\details{
This function:
\itemize{
\item Creates a temporary copy of the directory structure
\item Identifies all files larger than the size threshold (default 1MB)
\item Replaces large files with empty files of the same name
\item Creates a zip archive of the minified directory
\item Cleans up temporary files
}

The resulting zip file preserves the complete directory structure and all
file names, making it useful for debugging configuration and file detection
issues without transferring large data files.
}
\examples{
\dontrun{
# Create minified version of a derivatives directory
# Output: derivatives_mini.zip
minify_dir("/path/to/derivatives")

# Create minified version of a BIDS directory
# Output: bids_mini.zip
minify_dir("/path/to/bids")

# Custom output location and size threshold
minify_dir(
  dir = "/path/to/directory",
  output_zip = "~/debug_dir.zip",
  size_threshold = 0.5  # 500KB threshold
)
}

}
